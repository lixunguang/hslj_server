import{_ as e,R as t,r as o,e as i,o as n,c as l,w as a,m as s,a as r,L as c,a1 as u,b as d,t as h,f as p,i as m,s as b}from"./index-886f4693.js";import{_}from"./uni-card.4ea05165.js";import{_ as w}from"./uni-icons.072c6819.js";import{_ as y}from"./uni-section.47e9b892.js";const g=e({name:"UniNoticeBar",emits:["click","getmore","close"],props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:"#FFF9EA"},speed:{type:Number,default:100},color:{type:String,default:"#FF9A43"},moreColor:{type:String,default:"#FF9A43"},single:{type:[Boolean,String],default:!1},scrollable:{type:[Boolean,String],default:!1},showIcon:{type:[Boolean,String],default:!1},showGetMore:{type:[Boolean,String],default:!1},showClose:{type:[Boolean,String],default:!1}},data:()=>({textWidth:0,boxWidth:0,wrapWidth:"",webviewHide:!1,elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,elIdBox:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,show:!0,animationDuration:"none",animationPlayState:"paused",animationDelay:"0s"}),mounted(){this.$nextTick((()=>{this.initSize()}))},methods:{initSize(){if(this.scrollable){let e=[],o=new Promise(((e,o)=>{t().in(this).select(`#${this.elId}`).boundingClientRect().exec((t=>{this.textWidth=t[0].width,e()}))})),i=new Promise(((e,o)=>{t().in(this).select(`#${this.elIdBox}`).boundingClientRect().exec((t=>{this.boxWidth=t[0].width,e()}))}));e.push(o),e.push(i),Promise.all(e).then((()=>{this.animationDuration=this.textWidth/this.speed+"s",this.animationDelay=`-${this.boxWidth/this.speed}s`,setTimeout((()=>{this.animationPlayState="running"}),1e3)}))}},loopAnimation(){},clickMore(){this.$emit("getmore")},close(){this.show=!1,this.$emit("close")},onClick(){this.$emit("click")}}},[["render",function(e,t,b,_,y,g){const f=o(i("uni-icons"),w),x=p,k=m;return y.show?(n(),l(k,{key:0,class:"uni-noticebar",style:u({backgroundColor:b.backgroundColor}),onClick:g.onClick},{default:a((()=>[!0===b.showIcon||"true"===b.showIcon?(n(),l(f,{key:0,class:"uni-noticebar-icon",type:"sound",color:b.color,size:"22"},null,8,["color"])):s("",!0),r(k,{ref:"textBox",class:c(["uni-noticebar__content-wrapper",{"uni-noticebar__content-wrapper--scrollable":b.scrollable,"uni-noticebar__content-wrapper--single":!b.scrollable&&(b.single||b.moreText)}])},{default:a((()=>[r(k,{id:y.elIdBox,class:c(["uni-noticebar__content",{"uni-noticebar__content--scrollable":b.scrollable,"uni-noticebar__content--single":!b.scrollable&&(b.single||b.moreText)}])},{default:a((()=>[r(x,{id:y.elId,ref:"animationEle",class:c(["uni-noticebar__content-text",{"uni-noticebar__content-text--scrollable":b.scrollable,"uni-noticebar__content-text--single":!b.scrollable&&(b.single||b.showGetMore)}]),style:u({color:b.color,width:y.wrapWidth+"px",animationDuration:y.animationDuration,"-webkit-animationDuration":y.animationDuration,animationPlayState:y.webviewHide?"paused":y.animationPlayState,"-webkit-animationPlayState":y.webviewHide?"paused":y.animationPlayState,animationDelay:y.animationDelay,"-webkit-animationDelay":y.animationDelay})},{default:a((()=>[d(h(b.text),1)])),_:1},8,["id","class","style"])])),_:1},8,["id","class"])])),_:1},8,["class"]),!0===b.showGetMore||"true"===b.showGetMore?(n(),l(k,{key:1,class:"uni-noticebar__more uni-cursor-point",onClick:g.clickMore},{default:a((()=>[b.moreText.length>0?(n(),l(x,{key:0,style:u({color:b.moreColor}),class:"uni-noticebar__more-text"},{default:a((()=>[d(h(b.moreText),1)])),_:1},8,["style"])):(n(),l(f,{key:1,type:"right",color:b.moreColor,size:"16"},null,8,["color"]))])),_:1},8,["onClick"])):s("",!0),!0!==b.showClose&&"true"!==b.showClose||!1!==b.showGetMore&&"false"!==b.showGetMore?s("",!0):(n(),l(k,{key:2,class:"uni-noticebar-close uni-cursor-point"},{default:a((()=>[r(f,{type:"closeempty",color:b.color,size:"16",onClick:g.close},null,8,["color","onClick"])])),_:1}))])),_:1},8,["style","onClick"])):s("",!0)}],["__scopeId","data-v-005e94b0"]]);const f=e({components:{},data:()=>({}),created(){},methods:{getMore(){b({title:"点击查看更多",icon:"none"})}}},[["render",function(e,t,s,c,u,h){const b=p,w=o(i("uni-card"),_),f=o(i("uni-notice-bar"),g),x=o(i("uni-section"),y),k=m;return n(),l(k,{class:"container"},{default:a((()=>[r(w,{"is-full":"","is-shadow":!1},{default:a((()=>[r(b,{class:"uni-h6"},{default:a((()=>[d("通告栏组件多用于系统通知，广告通知等场景，可自定义图标，颜色，展现方式等。")])),_:1})])),_:1}),r(x,{title:"多行显示",type:"line"},{default:a((()=>[r(f,{text:"uni-app 版正式发布，开发一次，同时发布iOS、Android、H5、微信小程序、支付宝小程序、百度小程序、头条小程序等7大平台。"})])),_:1}),r(x,{title:"单行显示",subTitle:"使用 single 属性单行显示通知",type:"line"},{default:a((()=>[r(f,{single:"",text:"uni-app 版正式发布，开发一次，同时发布iOS、Android、H5、微信小程序、支付宝小程序、百度小程序、头条小程序等7大平台。"})])),_:1}),r(x,{title:"显示图标",subTitle:"使用 show-icon 属性显示左侧小喇叭图标",type:"line"},{default:a((()=>[r(f,{"show-icon":"",text:"uni-app发布，开发一次、7端覆盖！"})])),_:1}),r(x,{title:"文字滚动",subTitle:"使用 scrollable 属性使通告滚动,此时 single 属性将失效,始终单行显示",type:"line"},{default:a((()=>[r(f,{"show-icon":"",scrollable:"",text:"uni-app 版正式发布，开发一次，同时发布iOS、Android、H5、微信小程序、支付宝小程序、百度小程序、头条小程序等7大平台。"})])),_:1}),r(x,{title:"查看更多",subTitle:"使用 show-get-more 显示更多,此时 single 属性将失效,始终单行显示,如不配置 more-text 属性 ,将显示箭头图标",type:"line"},{default:a((()=>[r(f,{"show-get-more":"","show-icon":"",text:"年末大礼：uni-app1.4 新增百度、支付宝小程序。插件市场重磅上线！",onGetmore:h.getMore},null,8,["onGetmore"]),r(f,{"show-get-more":"","show-icon":"","more-text":"查看更多",text:"年末大礼：uni-app1.4 新增百度、支付宝小程序。插件市场重磅上线！",onGetmore:h.getMore},null,8,["onGetmore"])])),_:1}),r(x,{title:"修改颜色",type:"line"},{default:a((()=>[r(f,{single:"",color:"#2979FF","background-color":"#EAF2FF",text:"uni-app 1.6版正式发布，开发一次，同时发布iOS、Android、H5、微信小程序、支付宝小程序、百度小程序、头条小程序等7大平台。"})])),_:1}),r(x,{title:"关闭按钮",subTitle:"使用 show-close 属性,可关闭通知",type:"line"},{default:a((()=>[r(f,{"show-close":"",single:"",text:"HBuilderX 1.0正式发布！uni-app实现里程碑突破实现里程碑突破！"})])),_:1})])),_:1})}],["__scopeId","data-v-e22bc222"]]);export{f as default};
