import{_ as t,r as i,e as o,o as e,c as n,w as s,L as a,a as r,a1 as l,m as c,z as h,F as f,A as u,b as p,t as d,i as _,g as b,f as g,Z as m,s as y,v as C}from"./index-886f4693.js";import{_ as v}from"./uni-card.4ea05165.js";import{_ as k}from"./uni-section.47e9b892.js";import{_ as w}from"./uni-icons.072c6819.js";const x=t({name:"UniFab",emits:["fabClick","trigger"],props:{pattern:{type:Object,default:()=>({})},horizontal:{type:String,default:"left"},vertical:{type:String,default:"bottom"},direction:{type:String,default:"horizontal"},content:{type:Array,default:()=>[]},show:{type:Boolean,default:!1},popMenu:{type:Boolean,default:!0}},data:()=>({fabShow:!1,isShow:!1,isAndroidNvue:!1,styles:{color:"#3c3e49",selectedColor:"#007AFF",backgroundColor:"#fff",buttonColor:"#007AFF",iconColor:"#fff"}}),computed:{contentWidth(t){return 55*(this.content.length+1)+15+"px"},contentWidthMin:()=>"55px",boxWidth(){return this.getPosition(3,"horizontal")},boxHeight(){return this.getPosition(3,"vertical")},leftBottom(){return this.getPosition(0,"left","bottom")},rightBottom(){return this.getPosition(0,"right","bottom")},leftTop(){return this.getPosition(0,"left","top")},rightTop(){return this.getPosition(0,"right","top")},flexDirectionStart(){return this.getPosition(1,"vertical","top")},flexDirectionEnd(){return this.getPosition(1,"vertical","bottom")},horizontalLeft(){return this.getPosition(2,"horizontal","left")},horizontalRight(){return this.getPosition(2,"horizontal","right")}},watch:{pattern:{handler(t,i){this.styles=Object.assign({},this.styles,t)},deep:!0}},created(){this.isShow=this.show,0===this.top&&(this.fabShow=!0),this.styles=Object.assign({},this.styles,this.pattern)},methods:{_onClick(){this.$emit("fabClick"),this.popMenu&&(this.isShow=!this.isShow)},open(){this.isShow=!0},close(){this.isShow=!1},_onItemClick(t,i){this.$emit("trigger",{index:t,item:i})},getPosition(t,i,o){return 0===t?this.horizontal===i&&this.vertical===o:1===t?this.direction===i&&this.vertical===o:2===t?this.direction===i&&this.horizontal===o:this.isShow&&this.direction===i?this.contentWidth:this.contentWidthMin}}},[["render",function(t,m,y,C,v,k){const x=_,z=b,B=g,S=i(o("uni-icons"),w);return e(),n(x,{class:"uni-cursor-point"},{default:s((()=>[y.popMenu&&(k.leftBottom||k.rightBottom||k.leftTop||k.rightTop)&&y.content.length>0?(e(),n(x,{key:0,class:a([{"uni-fab--leftBottom":k.leftBottom,"uni-fab--rightBottom":k.rightBottom,"uni-fab--leftTop":k.leftTop,"uni-fab--rightTop":k.rightTop},"uni-fab"])},{default:s((()=>[r(x,{class:a([{"uni-fab__content--left":"left"===y.horizontal,"uni-fab__content--right":"right"===y.horizontal,"uni-fab__content--flexDirection":"vertical"===y.direction,"uni-fab__content--flexDirectionStart":k.flexDirectionStart,"uni-fab__content--flexDirectionEnd":k.flexDirectionEnd,"uni-fab__content--other-platform":!v.isAndroidNvue},"uni-fab__content"]),style:l({width:k.boxWidth,height:k.boxHeight,backgroundColor:v.styles.backgroundColor}),elevation:"5"},{default:s((()=>[k.flexDirectionStart||k.horizontalLeft?(e(),n(x,{key:0,class:"uni-fab__item uni-fab__item--first"})):c("",!0),(e(!0),h(f,null,u(y.content,((t,i)=>(e(),n(x,{key:i,class:a([{"uni-fab__item--active":v.isShow},"uni-fab__item"]),onClick:o=>k._onItemClick(i,t)},{default:s((()=>[r(z,{src:t.active?t.selectedIconPath:t.iconPath,class:"uni-fab__item-image",mode:"aspectFit"},null,8,["src"]),r(B,{class:"uni-fab__item-text",style:l({color:t.active?v.styles.selectedColor:v.styles.color})},{default:s((()=>[p(d(t.text),1)])),_:2},1032,["style"])])),_:2},1032,["class","onClick"])))),128)),k.flexDirectionEnd||k.horizontalRight?(e(),n(x,{key:1,class:"uni-fab__item uni-fab__item--first"})):c("",!0)])),_:1},8,["class","style"])])),_:1},8,["class"])):c("",!0),r(x,{class:a([{"uni-fab__circle--leftBottom":k.leftBottom,"uni-fab__circle--rightBottom":k.rightBottom,"uni-fab__circle--leftTop":k.leftTop,"uni-fab__circle--rightTop":k.rightTop,"uni-fab__content--other-platform":!v.isAndroidNvue},"uni-fab__circle uni-fab__plus"]),style:l({"background-color":v.styles.buttonColor}),onClick:k._onClick},{default:s((()=>[r(S,{class:a(["fab-circle-icon",{"uni-fab__plus--active":v.isShow&&y.content.length>0}]),type:"plusempty",color:v.styles.iconColor,size:"32"},null,8,["color","class"])])),_:1},8,["class","style","onClick"])])),_:1})}],["__scopeId","data-v-2284fc75"]]);const z=t({components:{},data:()=>({title:"uni-fab",directionStr:"垂直",horizontal:"left",vertical:"bottom",direction:"horizontal",pattern:{color:"#7A7E83",backgroundColor:"#fff",selectedColor:"#007AFF",buttonColor:"#007AFF",iconColor:"#fff"},is_color_type:!1,content:[{iconPath:"/static/image.png",selectedIconPath:"/static/image-active.png",text:"相册",active:!1},{iconPath:"/static/home.png",selectedIconPath:"/static/home-active.png",text:"首页",active:!1},{iconPath:"/static/star.png",selectedIconPath:"/static/star-active.png",text:"收藏",active:!1}]}),onBackPress(){return!!this.$refs.fab.isShow&&(this.$refs.fab.close(),!0)},methods:{trigger(t){console.log(t),this.content[t.index].active=!t.item.active,m({title:"提示",content:`您${this.content[t.index].active?"选中了":"取消了"}${t.item.text}`,success:function(t){t.confirm?console.log("用户点击确定"):t.cancel&&console.log("用户点击取消")}})},fabClick(){y({title:"点击了悬浮按钮",icon:"none"})},switchBtn(t,i){0===t?(this.direction="horizontal"===this.direction?"vertical":"horizontal",this.directionStr="horizontal"===this.direction?"垂直":"水平"):(this.horizontal=t,this.vertical=i),this.$forceUpdate()},switchColor(){this.is_color_type=!this.is_color_type,this.is_color_type?(this.pattern.iconColor="#aaa",this.pattern.buttonColor="#fff"):(this.pattern.iconColor="#fff",this.pattern.buttonColor="#007AFF")}}},[["render",function(t,a,l,c,h,f){const u=g,b=i(o("uni-card"),v),m=C,y=_,w=i(o("uni-section"),k),z=i(o("uni-fab"),x);return e(),n(y,{class:"container"},{default:s((()=>[r(b,{"is-shadow":!1,"is-full":""},{default:s((()=>[r(u,{class:"uni-h6"},{default:s((()=>[p("uni-ui 规范颜色色板，通过内置样式快速指定元素前景和背景色。")])),_:1})])),_:1}),r(w,{title:"基本功能",subTitle:"点击按钮,切换 fab 不同状态",type:"line"},{default:s((()=>[r(y,{class:"warp"},{default:s((()=>[r(m,{class:"button",type:"primary",onClick:a[0]||(a[0]=t=>f.switchBtn(0))},{default:s((()=>[p("切换菜单方向("+d(h.directionStr)+")",1)])),_:1}),r(m,{class:"button",type:"primary",onClick:a[1]||(a[1]=t=>f.switchBtn("left","bottom"))},{default:s((()=>[p("左下角显示")])),_:1}),r(m,{class:"button",type:"primary",onClick:a[2]||(a[2]=t=>f.switchBtn("right","bottom"))},{default:s((()=>[p("右下角显示")])),_:1}),r(m,{class:"button",type:"primary",onClick:a[3]||(a[3]=t=>f.switchBtn("left","top"))},{default:s((()=>[p("左上角显示")])),_:1}),r(m,{class:"button",type:"primary",onClick:a[4]||(a[4]=t=>f.switchBtn("left","top"))},{default:s((()=>[p("左上角显示")])),_:1}),r(m,{class:"button",type:"primary",onClick:a[5]||(a[5]=t=>f.switchBtn("right","top"))},{default:s((()=>[p("右上角显示")])),_:1}),r(m,{class:"button",type:"primary",onClick:f.switchColor},{default:s((()=>[p("修改颜色")])),_:1},8,["onClick"])])),_:1})])),_:1}),r(z,{ref:"fab",pattern:h.pattern,content:h.content,horizontal:h.horizontal,vertical:h.vertical,direction:h.direction,onTrigger:f.trigger,onFabClick:f.fabClick},null,8,["pattern","content","horizontal","vertical","direction","onTrigger","onFabClick"])])),_:1})}],["__scopeId","data-v-3e2321fb"]]);export{z as default};
