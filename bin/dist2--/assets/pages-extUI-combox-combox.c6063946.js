import{_ as e,r as t,e as l,o as a,c as o,w as s,a1 as i,a as n,b as u,t as d,m as c,z as r,F as p,A as m,L as h,f as _,i as f,I as b,S as y}from"./index-886f4693.js";import{_ as x}from"./uni-card.4ea05165.js";import{_ as S}from"./uni-icons.072c6819.js";import{_ as V}from"./uni-section.47e9b892.js";const g=e({name:"uniCombox",emits:["input","update:modelValue"],props:{border:{type:Boolean,default:!0},label:{type:String,default:""},labelWidth:{type:String,default:"auto"},placeholder:{type:String,default:""},candidates:{type:Array,default:()=>[]},emptyTips:{type:String,default:"无匹配项"},modelValue:{type:[String,Number],default:""}},data:()=>({showSelector:!1,inputVal:""}),computed:{labelStyle(){return"auto"===this.labelWidth?"":`width: ${this.labelWidth}`},filterCandidates(){return this.candidates.filter((e=>e.toString().indexOf(this.inputVal)>-1))},filterCandidatesLength(){return this.filterCandidates.length}},watch:{modelValue:{handler(e){this.inputVal=e},immediate:!0}},methods:{toggleSelector(){this.showSelector=!this.showSelector},onFocus(){this.showSelector=!0},onBlur(){setTimeout((()=>{this.showSelector=!1}),153)},onSelectorClick(e){this.inputVal=this.filterCandidates[e],this.showSelector=!1,this.$emit("input",this.inputVal),this.$emit("update:modelValue",this.inputVal)},onInput(){setTimeout((()=>{this.$emit("input",this.inputVal),this.$emit("update:modelValue",this.inputVal)}))}}},[["render",function(e,x,V,g,w,C){const k=_,T=f,I=b,B=t(l("uni-icons"),S),F=y;return a(),o(T,{class:h(["uni-combox",V.border?"":"uni-combox__no-border"])},{default:s((()=>[V.label?(a(),o(T,{key:0,class:"uni-combox__label",style:i(C.labelStyle)},{default:s((()=>[n(k,null,{default:s((()=>[u(d(V.label),1)])),_:1})])),_:1},8,["style"])):c("",!0),n(T,{class:"uni-combox__input-box"},{default:s((()=>[n(I,{class:"uni-combox__input",type:"text",placeholder:V.placeholder,"placeholder-class":"uni-combox__input-plac",modelValue:w.inputVal,"onUpdate:modelValue":x[0]||(x[0]=e=>w.inputVal=e),onInput:C.onInput,onFocus:C.onFocus,onBlur:C.onBlur},null,8,["placeholder","modelValue","onInput","onFocus","onBlur"]),n(B,{type:w.showSelector?"top":"bottom",size:"14",color:"#999",onClick:C.toggleSelector},null,8,["type","onClick"])])),_:1}),w.showSelector?(a(),o(T,{key:1,class:"uni-combox__selector"},{default:s((()=>[n(T,{class:"uni-popper__arrow"}),n(F,{"scroll-y":"true",class:"uni-combox__selector-scroll"},{default:s((()=>[0===C.filterCandidatesLength?(a(),o(T,{key:0,class:"uni-combox__selector-empty"},{default:s((()=>[n(k,null,{default:s((()=>[u(d(V.emptyTips),1)])),_:1})])),_:1})):c("",!0),(a(!0),r(p,null,m(C.filterCandidates,((e,t)=>(a(),o(T,{class:"uni-combox__selector-item",key:t,onClick:e=>C.onSelectorClick(t)},{default:s((()=>[n(k,null,{default:s((()=>[u(d(e),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):c("",!0)])),_:1},8,["class"])}],["__scopeId","data-v-b4a266aa"]]);const w=e({components:{},data:()=>({candidates:["北京","南京","东京","武汉","天津","上海","海口"],city:""}),methods:{}},[["render",function(e,i,c,r,p,m){const h=_,b=t(l("uni-card"),x),y=t(l("uni-combox"),g),S=f,w=t(l("uni-section"),V);return a(),o(S,{class:"container"},{default:s((()=>[n(b,{"is-shadow":!1,"is-full":""},{default:s((()=>[n(h,{class:"uni-h6"},{default:s((()=>[u("组合框一般用于可以选择也可以输入的表单项。")])),_:1})])),_:1}),n(w,{title:"基本用法",type:"line"},{default:s((()=>[n(S,{class:"example-body"},{default:s((()=>[n(y,{candidates:p.candidates,placeholder:"请选择所在城市",modelValue:p.city,"onUpdate:modelValue":i[0]||(i[0]=e=>p.city=e)},null,8,["candidates","modelValue"]),n(S,{class:"result-box"},{default:s((()=>[n(h,null,{default:s((()=>[u("所选城市为："+d(p.city),1)])),_:1})])),_:1})])),_:1})])),_:1}),n(w,{title:"无边框",subTitle:"使用 border = false 取消边框",type:"line"},{default:s((()=>[n(S,{class:"example-body"},{default:s((()=>[n(y,{border:!1,candidates:p.candidates,placeholder:"请选择所在城市"},null,8,["candidates"])])),_:1})])),_:1}),n(w,{title:"设置无匹配项时的提示语",subTitle:"使用 emptyTips 属性设置无匹配项时的提示语",type:"line"},{default:s((()=>[n(S,{class:"example-body"},{default:s((()=>[n(y,{emptyTips:"这里啥都没有",placeholder:"请选择所在城市"})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-d1b68d2d"]]);export{w as default};
